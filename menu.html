<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alchemist's Brew - Celestial Menu</title>
    <link rel="Icon" href="img/alchemist-icon.png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Purple+Purse&family=Quando&display=swap" rel="stylesheet">
    
    <style>
        /* CSS Variables for Dynamic Colors */
        :root {
            --primary-pink: #E0F7FA; /* Default: Navbar Background */
            --secondary-pink: #00BCD4; /* Default: Navbar Accent (Button fill/border) - Used for category active button */
            --text-dark: #3f2f45; /* Dark purple/brown for text */
            --font-serif: 'Playfair Display', serif;
            --font-cursive: 'Purple Purse', cursive;
            --menu-section-bg: #F4DCE3; 

            /* --- NEW VARIABLES FOR VISUAL MATCH --- */
            --menu-bg-color: #e6f3f8; /* Light blue background for body */
            --card-bg-color: #f0f8ff; /* Very light blue/white for card background */
            --card-border-color: #d1e2f0; /* Soft border color for cards */
            --card-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            --dark-text-color: #2c3e50;
            --price-color: #3f2f45; /* Darker color for price */
            --category-tab-bg: #E0F7FA;
            --category-tab-border: #00BCD4;
            --card-hover-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }

        /* --- GLOBAL & BODY STYLES (From your target CSS) --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        body {
            font-family: 'Quando', sans-serif;
            min-height: 100vh;
            overflow-x: hidden; 
            background-color: var(--menu-bg-color); /* Light blue background */
        }
        
        /* --- NAVBAR STYLES (Kept as is) --- */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 50px;
            background-color: var(--primary-pink); 
            color: var(--text-dark);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            font-family: var(--font-cursive);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .logo-container {
            display: flex;
            align-items: center;
            text-decoration: none;
            color: var(--text-dark);
            font-size: 24px;
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            margin-right: 10px;
            background-color: transparent; 
            border-radius: 50%;
        }
        
        .nav-links {
            display: flex;
            gap: 30px;
        }

        .nav-item {
            text-decoration: none;
            color: var(--text-dark);
            padding: 5px 10px;
            font-size: 18px;
            position: relative;
        }

        .nav-item.current {
            text-decoration: underline;
            text-decoration-color: var(--secondary-pink);
            text-underline-offset: 8px;
            font-weight: bold;
        }
        
        .contact-button {
            border: 1px solid var(--secondary-pink);
            border-radius: 20px;
            padding: 5px 15px;
            background-color: transparent;
            font-size: 18px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .cart-icon {
            font-size: 24px;
            text-decoration: none;
            color: var(--text-dark); 
        }

        .register-btn {
            background-color: transparent;
            border: 1px solid var(--secondary-pink);
            color: var(--text-dark);
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-family: var(--font-cursive);
            font-size: 16px;
        }
        
        .dropdown-arrow-link {
            text-decoration: none;
            color: var(--text-dark);
        }
        
        .dropdown-arrow {
            display: inline-block;
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-top: 5px solid var(--text-dark);
            transform: translateY(2px);
        }
        
        /* Custom styling for the main "Celestial Menu" title */
        .celestial-title {
            font-family: var(--font-cursive);
            font-style: normal;
            font-weight: 400;
            font-size: 80px;
            line-height: 100px;
            text-align: center;
            color: var(--secondary-pink);
            text-shadow: 0px 4px 4px rgba(0, 0, 0, 0.7);
        }

        /* --- NEW MENU COMPONENT STYLES --- */

        /* Style for the category tabs container to look like the image's header */
        .category-tabs-container {
            display: flex;
            justify-content: center;
            gap: 20px; /* Space between tabs */
            margin-bottom: 30px;
            padding: 10px 0;
        }

        .category-button-cloud {
            /* Mimics the cloud/pill shape and style from the image */
            font-family: 'Quando', sans-serif;
            font-weight: 700;
            text-align: center;
            padding: 8px 25px;
            background-color: var(--category-tab-bg);
            color: var(--text-dark);
            border: 2px solid var(--category-tab-border);
            border-radius: 50px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
            white-space: nowrap; /* Keep text on one line */
        }

        /* Style for the active category button */
        .category-button-cloud.active {
            background-color: var(--category-tab-border); /* Invert colors for active */
            color: white; 
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
        }

        .category-button-cloud:hover:not(.active) {
            background-color: #c0e6e9; /* Light hover effect */
        }

        /* --- PRODUCT GRID STYLES --- */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px; /* Space between cards */
            padding: 0 50px; /* Padding for the grid */
        }
        
        /* Product Card */
        .product-card {
            background-color: var(--card-bg-color);
            border-radius: 15px; /* Rounded corners */
            box-shadow: var(--card-shadow);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            border: 1px solid var(--card-border-color);
            min-height: 380px; /* Set a consistent height */
        }

        .product-card:hover {
            box-shadow: var(--card-hover-shadow);
            transform: translateY(-2px);
        }

        .product-image-container {
            width: 100%;
            height: 180px; /* Image height */
            overflow: hidden;
            border-radius: 15px 15px 0 0;
        }

        .product-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-details {
            padding: 15px;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

        .product-title {
            font-family: var(--font-serif);
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--dark-text-color);
            margin-bottom: 5px;
        }

        .product-description {
            font-size: 0.8rem;
            color: #5d6d7e;
            margin-bottom: 10px;
            flex-grow: 1; /* Allows the description to take up available space */
            line-height: 1.3;
        }

        .product-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: auto; /* Push to the bottom */
        }

        .product-price {
            font-size: 1.5rem;
            font-weight: 900;
            color: var(--price-color);
        }

        .add-to-cart-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 10px;
            border-radius: 50%;
            font-size: 24px;
            color: var(--secondary-pink); /* Use secondary color for the icon */
            transition: transform 0.2s;
        }

        .add-to-cart-btn:hover {
            transform: scale(1.1);
        }
        
    </style>
</head>
<body class="font-sans min-h-screen">

    <header class="navbar">
        <a href="index.html" class="logo-container"> 
            <img src="img/alchemist-icon.png" alt="Alchemist's Brew Logo Icon" class="logo-icon">
            <span class="logo-text">Alchemist's Brew</span>
        </a>
        
        <nav class="nav-links">
            <a href="index.html" class="nav-item">Home</a>
            <a href="menu.html" class="nav-item current">Menu</a> 
            <a href="studyroom.html" class="nav-item">Study Room</a>
            <a href="contactus.html" class="nav-item contact-button">Contact Us</a>
        </nav>

        <div class="nav-actions">
            <a href="shoppingcart.html" class="cart-icon">ðŸ›’</a> 
            
            <a href="register.html" class="register-btn">Sign In / Register</a>
            
            <a href="profile.html" class="dropdown-arrow-link">
                <span class="dropdown-arrow"></span>
            </a>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <div class="text-center mb-8">
            <h2 class="celestial-title">Celestial Menu</h2>
        </div>

        <div id="category-tabs" class="category-tabs-container">
            </div>

        <div id="product-grid" class="product-grid">
            </div>
    </main>

    <script>
        // --- Data Structure for Menu Items (Updated to match the "The Midas Touch" items) ---
        const MENU_DATA = [
            // These items are placeholders for the five visible "The Midas Touch" items in the image.
            { id: 1, name: "The Midas Touch (Caramel Macchiato)", category: "COFFEE", price: "180.00", description: "A truly magical concoction. This coffee is infused with a caramel so rich and luxurious, it feels as though everything it touches has been turned to gold.", imageUrl: "img/midas-touch-iced-macchiato.jpg" }, 
            { id: 2, name: "The Black Onyx (Cold Brew)", category: "COFFEE", price: "140.00", description: "A powerful, dark brew as deep and mysterious as a polished onyx stone. This elixir provides strength and focus for your day's quests.", imageUrl: "img/midas-touch-cold-brew.jpg" }, 
            { id: 3, name: "The Midas Touch (Hot Spiced)", category: "COFFEE", price: "180.00", description: "A truly magical concoction. This coffee is infused with a caramel so rich and luxurious, it feels as though everything it touches has been turned to gold.", imageUrl: "img/midas-touch-hot-spiced.jpg" },
            { id: 4, name: "The Midas Touch (Hot Latte)", category: "COFFEE", price: "180.00", description: "A truly magical concoction. This coffee is infused with a caramel so rich and luxurious, it feels as though everything it touches has been turned to gold.", imageUrl: "img/midas-touch-hot-latte.jpg" },
            { id: 5, name: "The Midas Touch (Tall Iced)", category: "COFFEE", price: "180.00", description: "A truly magical concoction. This coffee is infused with a caramel so rich and luxurious, it feels as though everything it touches has been turned to gold.", imageUrl: "img/midas-touch-tall-iced.jpg" }, 
            
            // Other placeholder items to ensure the other categories exist
            { id: 6, name: "Elixir of Life", category: "NON-COFFEE", price: "160.00", description: "A refreshing blend of sparkling lemonade...", imageUrl: "https://placehold.co/400x300/98c1d9/1d3557?text=Elixir+of+Life" },
            { id: 7, name: "Frozen Nebula", category: "ICED & CHILLED CONCOCTIONS", price: "195.00", description: "A sweet, blended drink that swirls like a distant galaxy...", imageUrl: "https://placehold.co/400x300/98c1d9/1d3557?text=Frozen+Nebula" },
            { id: 8, name: "Mana Muffin", category: "PASTRIES", price: "110.00", description: "A blueberry muffin infused with pure energy...", imageUrl: "https://placehold.co/400x300/94d2bd/1d3557?text=Mana+Muffin" },
        ];

        // Unique categories list
        const CATEGORIES = [...new Set(MENU_DATA.map(item => item.category))];
        const productGrid = document.getElementById('product-grid');
        const categoryTabs = document.getElementById('category-tabs');
        let currentCategory = CATEGORIES[0]; // Start with the first category

        /**
         * Renders the product card for a single menu item using the new custom CSS.
         * @param {Object} item - The menu item data.
         * @returns {string} - The HTML string for the product card.
         */
        function createProductCard(item) {
            // Using the new custom classes to match the image's style
            return `
                <div class="product-card">
                    <div class="product-image-container">
                        <img src="${item.imageUrl}" alt="${item.name}" class="product-image" onerror="this.onerror=null;this.src='https://placehold.co/400x300/cccccc/333333?text=Image+Unavailable';" loading="lazy">
                    </div>
                    
                    <div class="product-details">
                        <h3 class="product-title">${item.name.split('(')[0].trim()}</h3>
                        <p class="product-description">${item.description}</p>
                        
                        <div class="product-footer">
                            <span class="product-price">â‚±${item.price}</span>
                            <button class="add-to-cart-btn" aria-label="Add ${item.name} to cart">
                                ðŸ›’
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        /**
         * Filters the data and renders the menu items to the grid.
         * @param {string} category - The category to filter by.
         */
        function renderMenu(category) {
            productGrid.innerHTML = ''; // Clear existing content
            const filteredItems = MENU_DATA.filter(item => item.category === category);
            
            if (filteredItems.length === 0) {
                // Using standard HTML and the main grid class for layout
                productGrid.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; color: #5d6d7e; font-size: 1.2rem; padding: 50px;">No magical concoctions found in this category yet!</p>';
                return;
            }

            const html = filteredItems.map(createProductCard).join('');
            
            // To replicate the image's layout where there are placeholders/empty slots
            // I will add empty card slots for categories with few items.
            // In the image, there are 4 columns, and the COFFEE section has 5 items shown.
            // I'll add 3 empty cards if the count is 5 to fill the second row.
            
            let finalHtml = html;
            const emptyCardCount = 8 - filteredItems.length; // Assume a max grid of 8 slots for initial view

            if (emptyCardCount > 0 && category === "COFFEE") {
                // Add empty cards to fill the grid up to 8 slots for the main page view
                for (let i = 0; i < emptyCardCount; i++) {
                    finalHtml += `
                        <div class="product-card" style="background-color: #f7f7f7; border: 1px dashed #d1e2f0; display: flex; justify-content: center; align-items: center;">
                            <button class="add-to-cart-btn" style="color: #c0c0c0; font-size: 30px;" disabled>ðŸ›’</button>
                        </div>
                    `;
                }
            } else if (filteredItems.length < 4) {
                 // Add empty cards to fill the row for other categories
                 const fillers = 4 - filteredItems.length;
                  for (let i = 0; i < fillers; i++) {
                    finalHtml += `
                        <div class="product-card" style="background-color: #f7f7f7; border: 1px dashed #d1e2f0; display: flex; justify-content: center; align-items: center;">
                            <button class="add-to-cart-btn" style="color: #c0c0c0; font-size: 30px;" disabled>ðŸ›’</button>
                        </div>
                    `;
                }
            }


            productGrid.innerHTML = finalHtml;
        }

        /**
         * Handles the category button click, updating the UI and rendering the menu.
         * @param {string} category - The category selected.
         */
        function selectCategory(category) {
            currentCategory = category;
            
            // Update active state of buttons
            document.querySelectorAll('.category-button-cloud').forEach(button => {
                button.classList.remove('active');
            });
            
            // Set active state for the clicked button using the custom 'active' class
            const activeButton = document.getElementById(`btn-${category.replace(/\s+/g, '-')}`);
            if (activeButton) {
                activeButton.classList.add('active');
            }

            renderMenu(category);
        }

        /**
         * Initializes the category buttons in the DOM.
         */
        function initializeTabs() {
            const tabsHtml = CATEGORIES.map(category => {
                // Ensure unique ID for buttons
                const id = `btn-${category.replace(/\s+/g, '-')}`; 
                return `
                    <button id="${id}"
                            class="category-button-cloud"
                            onclick="selectCategory('${category}')">
                        ${category}
                    </button>
                `;
            }).join('');
            categoryTabs.innerHTML = tabsHtml;

            // Trigger the initial selection of the first category
            if (CATEGORIES.length > 0) {
                selectCategory(CATEGORIES[0]);
            }
        }

        // Initialize the app when the window loads
        window.onload = function() {
            initializeTabs();
        };

    </script>
</body>
</html>